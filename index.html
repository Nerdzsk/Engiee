<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Engee 3D - Modular System</title>
    <link rel="stylesheet" href="css/00-root.css">
    <link rel="stylesheet" href="css/01-base.css">
    <link rel="stylesheet" href="css/02-energy-orb.css">
    <link rel="stylesheet" href="css/03-buttons.css">
    <link rel="stylesheet" href="css/04-modals.css">
    <link rel="stylesheet" href="css/05-responsive.css">
    <link rel="stylesheet" href="css/06-angie.css">
</head>
<body>

<div id="hud" class="hud-wrap">
    <!-- HUD FRAME (Tier 1: Rusted) -->
    <div class="hud-frame hud-frame--tier-rusted" aria-hidden="true">
        <img class="hud-frame-img" src="./assets/Rusted/HUD_Frame_Tier_Rusted.png" alt="HUD Frame Tier Rusted" />
    </div>
    <div class="hud-top-center">
        <div class="top-center-label">ACC</div>
        <div class="acc-container acc-wide">
            <div id="acc-fill" style="width: 0%; height: 100%; transition: width 0.3s ease;"></div>
        </div>
        <div id="acc-text" class="top-center-text">0 UNITS (READY TO TRANSFER)</div>
    </div>

    <div class="hud-bottom">
        <!-- ENERGY ORB: Absolute positioned v kruhu vlavo -->
        <div class="energy-orb" id="energy-orb">
            <img class="energy-orb-img" src="./assets/Rusted/HUD_baseenergyHP_Orb_Rusted.png" alt="Base Energy Orb">
            <div class="energy-orb-liquid" id="energy-orb-liquid"></div>
        </div>

        <!-- LEFT MODULE: Orb + Energy bar -->
        <div class="hud-left">
            <!-- Base Energy Orb (Tier Rusted) [teraz vy≈°≈°ie v HTML] -->
            <div id="energy-hp-text" class="status-text" style="color: #44ff41;">HP: 0 / 0</div>
            <div class="label-power" style="margin-top: 4px;">UNIT_POWER (BASE_BATTERY)</div>
            <div class="bar-container power-wide">
                <div id="energy-fill" style="width: 0%; height: 100%; transition: width 0.3s ease;"></div>
            </div>
            <div id="energy-text" class="status-text" style="color: #44ff41;">NAƒå√çTAVAM...</div>
            <div id="sync-indicator" class="sync-indicator">STATUS: SYNC_READY</div>
        </div>

        <!-- CENTER MODULE: Controls + Transfer + Status -->
        <div class="hud-center">
            <div class="controls-row">
                <button id="skills-btn" class="hud-btn hud-btn-yellow">[C] SKILLS</button>
                <div id="skill-points-indicator" class="skill-points-indicator hidden" title="Unspent skill points ‚Äî click to open">
                    ‚≠ê <span id="skill-points-count">0</span>
                </div>
                <button id="inventory-btn" class="hud-btn hud-btn-green">[I] INVENTORY</button>
                <button id="kodex-btn" class="hud-btn hud-btn-orange">[K] KODEX</button>
                <button id="quest-btn" class="hud-btn hud-btn-purple">[J] QUESTS</button>
            </div>
            <button id="transfer-btn" class="transfer-btn">TRANSFER TO MAIN SYSTEM</button>
            <div class="neural-link-panel">
                <div class="neural-label">Neural_Link_Status</div>
                <div id="mobile-service-status" class="mobile-status">MOBILE_SYSTEM: OFFLINE</div>
            </div>
        </div>

        <!-- RIGHT MODULE: Level + XP bar -->
        <div class="hud-right">
            <div id="level-info" class="level-badge">LEVEL 1</div>
            <div class="label-power">LEVEL PROGRESS</div>
            <div class="bar-container xp-wide" style="background: rgba(255, 170, 0, 0.1); border: 1px solid #ffaa00;">
                <div id="xp-fill" style="width: 0%; height: 100%; background: linear-gradient(90deg, #ffaa00, #ffdd00); box-shadow: 0 0 10px #ffaa00; transition: width 0.3s ease;"></div>
            </div>
            <div id="xp-text" class="status-text" style="color: #ffaa00; font-size: 11px;">0 / 100 XP</div>
        </div>
    </div>
</div>

<div id="angie-ui" class="hidden">
    <div id="angie-avatar">
        <canvas id="engee-canvas"></canvas> 
    </div>
    <div id="angie-content">
        <div id="angie-name">ENGEE // Palubn√° AI</div>
        <div id="angie-text"></div>
    </div>
</div>

<!-- Skills Modal Fullscreen -->
<div id="skills-modal" class="skills-modal hidden">
    <div class="skills-modal-content">
        <div class="skills-modal-header">
            <h2>SPECIAL ATTRIBUTES</h2>
            <button id="skills-close-btn" class="skills-close-btn">‚úï</button>
        </div>
        <div id="skills-panel-content" class="skills-panel-content"></div>
    </div>
</div>

<!-- Inventory Modal Fullscreen -->
<div id="inventory-modal" class="inventory-modal hidden">
    <div class="inventory-modal-content">
        <div class="inventory-modal-header">
            <h2>INVENTORY</h2>
            <button class="inventory-modal-close">‚úï</button>
        </div>
        <div id="inventory-modal-content" class="inventory-panel-content"></div>
    </div>
</div>

<!-- Kodex Modal Fullscreen -->
<div id="kodex-modal" class="kodex-modal hidden">
    <div class="kodex-modal-content">
        <div class="kodex-modal-header">
            <h2>KODEX</h2>
            <button class="kodex-modal-close">‚úï</button>
        </div>
        <div id="kodex-modal-content" class="kodex-modal-content-inner"></div>
    </div>
</div>

<!-- Quest Log Modal Fullscreen -->
<div id="quest-modal" class="quest-modal hidden">
    <div class="quest-modal-content">
        <div class="quest-modal-header">
            <h2>QUEST LOG</h2>
            <button class="quest-modal-close">‚úï</button>
        </div>
        <div class="quest-modal-tabs">
            <button class="quest-tab active" data-tab="main">‚≠ê MAIN QUESTS</button>
            <button class="quest-tab" data-tab="side">‚óá SIDE QUESTS</button>
            <button class="quest-tab" data-tab="completed">‚úì COMPLETED</button>
        </div>
        <div id="quest-modal-content" class="quest-modal-content-inner"></div>
    </div>
</div>

<!-- Level Up Modal -->
<div id="levelup-modal" class="levelup-modal hidden">
    <div class="levelup-modal-content">
        <div class="levelup-glow"></div>
        <h1 class="levelup-title">‚ö° LEVEL UP! ‚ö°</h1>
        <div id="levelup-info" class="levelup-info">LEVEL 2 ACHIEVED</div>
        <div id="levelup-rewards" class="levelup-rewards">
            <div>üéØ +2 SKILL POINTS</div>
        </div>
        <button id="levelup-close" class="levelup-close-btn">CONTINUE</button>
    </div>
</div>

<script type="importmap">
{
    "imports": {
        "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
        "three/examples/jsm/loaders/GLTFLoader.js": "https://unpkg.com/three@0.160.0/examples/jsm/loaders/GLTFLoader.js"
    }
}
</script>

<script type="module" src="./app.js"></script>

</body>
</html>